import{A as y}from"./AppLayout-540a6a2e.js";import{i as k,E as f,B as p,k as g,l as d,o as c,c as C,w as u,a as t,b as r,f as L,e as h,F as _,g as w,t as m}from"./app-2a871929.js";import{N as D}from"./Navigation-4a8d58ed.js";import{P}from"./Paginate-55ef9a15.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-4ecace4f.js";import"./moment-fbc5633a.js";const T={components:{AppLayout:y,Link:k,Navigation:D,Paginate:P},data(){return{currentTab:"tab-2",filter:{limit:18,page:1},paginate:[],formData:[]}},created(){this.fetchData(),document.title="Danh sách bài viết đã lưu"},methods:{async fetchData(){const e={...this.filter},s=await axios.get(route("get-list-save",e));this.formData=s.data.data,this.paginate=s.data.meta},handleCurrentPage(e){this.filter.page=e,this.fetchData()},unSavePost(e){f({title:"Hủy theo dõi",message:p("p",null,[p("span",null,"Bạn có muốn bỏ lưu bài viết không ?")]),showCancelButton:!0,confirmButtonText:"Xác nhận",cancelButtonText:"Hủy bỏ",beforeClose:(s,a,i)=>{s==="confirm"?(a.confirmButtonLoading=!0,a.confirmButtonText="Loading...",a.closeForm=!1,axios.get(route("unsave-post",e.id)).then(n=>{i(),this.fetchData()}).catch(n=>{})):i()}}).then(()=>{g({type:"success",message:"Bỏ lưu bài viết thành công"}),this.isEditProfile="tab-0"}).catch(()=>{})},deleteAllSave(){f({title:"Bỏ lưu bài viết",message:p("p",null,[p("span",null,"Bạn có muốn bỏ lưu bài viết tất cả bài viết không ?")]),showCancelButton:!0,confirmButtonText:"Xác nhận",cancelButtonText:"Hủy bỏ",beforeClose:(e,s,a)=>{e==="confirm"?(s.confirmButtonLoading=!0,s.confirmButtonText="Loading...",s.closeForm=!1,axios.get(route("unsave-all-post")).then(i=>{a(),this.fetchData()}).catch(i=>{})):a()}}).then(()=>{g({type:"success",message:"Bỏ lưu tất cả bài viết thành công"}),this.isEditProfile="tab-0"}).catch(()=>{})}}},N={class:"min-w-[280px] w-[280px]"},A={class:"flex-auto ml-[16px]"},E={class:"py-[14px] bg-[#fff] box-shadow"},F={class:"border-b-[2px] mb-[8px]"},j={class:"flex items-center justify-between mb-[8px]"},H=t("div",{class:"border-l-[5px] border-[#db562b] text-[#db562b] font-bold ml-[8px] pl-[8px] text-[17px]"}," Danh sách đã lưu ",-1),V=t("i",{class:"bi bi-trash3 ml-[4px]"},null,-1),X={key:0,class:"text-center text-[16px] mt-[18px] mb-[6px]"},M={class:"mt-[24px] mb-[16px] mx-[12px] grid grid-cols-3 gap-3"},q={class:"mt-[8px] relative post-item"},z=["src"],G={class:"px-[2px]"},I={class:"post-title font-bold text-[15px] mt-[4px]"},J={class:"flex items-center mt-[12px]"},K={class:"text-[14px] font-bold text-[#076db6]"},O={class:"ml-[16px] text-[13px] mt-[4px]"},Q=["onClick"],R=t("i",{class:"bi bi-x"},null,-1),U=[R],W={class:"flex mt-[34px] mb-[54px] justify-center"};function Y(e,s,a,i,n,l){const b=d("Navigation"),x=d("Link"),v=d("Paginate"),B=d("AppLayout");return c(),C(B,{"current-tab":"main-full"},{"main-full":u(()=>[t("div",N,[r(b,{currentTab:"tab-3"})]),t("div",A,[t("div",E,[t("div",F,[t("div",j,[H,t("div",{class:"text-[15px] border-[2px] py-[6px] px-[12px] rounded-[6px] cursor-pointer mr-[32px] hover:bg-[#e9ecef] active:scale-95",onClick:s[0]||(s[0]=(...o)=>l.deleteAllSave&&l.deleteAllSave(...o))},[V,L(" Xóa tất cả ")])])]),n.formData.length==0?(c(),h("div",X," Bạn chưa lưu bài viết nào ")):(c(),h(_,{key:1},[t("div",M,[(c(!0),h(_,null,w(n.formData,o=>(c(),h("div",q,[r(x,{href:e.route("post",o.slug)},{default:u(()=>[t("img",{src:o.image,class:"post-image h-[160px] w-[100%] object-cover"},null,8,z)]),_:2},1032,["href"]),t("div",G,[r(x,{href:e.route("post",o.slug)},{default:u(()=>[t("div",I,m(o.title),1)]),_:2},1032,["href"]),t("div",J,[r(x,{href:e.route("list-category",o.categorySlug)},{default:u(()=>[t("div",K,m(o.categoryName),1)]),_:2},1032,["href"]),t("div",O,m(o.time),1)])]),t("div",{class:"post-icon absolute top-[6px] right-[6px] cursor-pointer active:scale-95 w-[30px] h-[30px] bg-[#fff] text-[22px] rounded-[50%] hover:bg-[#ced4da] box-shadow text-center",onClick:Z=>l.unSavePost(o)},U,8,Q)]))),256))]),t("div",W,[r(v,{onPageChange:l.handleCurrentPage,paginate:n.paginate,"current-page":n.filter.page||1,"paginate-background":""},null,8,["onPageChange","paginate","current-page"])])],64))])])]),_:1})}const it=S(T,[["render",Y]]);export{it as default};
