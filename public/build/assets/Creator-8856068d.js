import{A as I,L as k}from"./AppLayout-06d5a6f0.js";import{i as L,k as b,l as m,o as i,e as n,b as l,w as p,a as t,t as c,F as f,f as g,h as _,g as v,_ as C,$ as P}from"./app-c5eb5df1.js";import{h as u}from"./moment-fbc5633a.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-7eaaec51.js";const T={components:{AppLayout:I,Link:L,LoginForm:k},data(){return{currentTab:"kinh-te",isLoadPost:!0,dataInfor:{code:"",first_name:"",last_name:"",image:"",description:"",remark:"",is_follow:!1},listPostCreator:[],listCreatorPopular:[],number_data:12}},created(){this.fetchData(),document.title=`Tác giả - ${this.$page.props.name}`},methods:{moment:u,async fetchDataInfor(){const o=await axios.get(route("cretor.get-infor",this.$page.props.id));this.dataInfor=o.data.data},async fetchData(){this.fetchDataInfor();const o=await axios.get(route("post.get-list-post-creator",{id:this.$page.props.id,number_data:this.number_data}));this.listPostCreator=o.data.data,o.data.meta.current_page===o.data.meta.last_page&&(this.isLoadPost=!1);const s=await axios.get(route("cretor.get-list-popular",this.dataInfor.code));this.listCreatorPopular=s.data.data},loadPost(){this.number_data+=6,this.fetchData()},changeFollowing(){this.$page.props.auth.account?this.dataInfor.is_follow?axios.get(route("unfollow-account",this.dataInfor.code)).then(o=>{b({type:"success",message:"Hủy theo dõi tác giả thành công"}),this.dataInfor.is_follow=!1}).catch(()=>{}):axios.get(route("follow-account",this.dataInfor.code)).then(o=>{b({type:"success",message:"Theo dõi tác giả thành công"}),this.dataInfor.is_follow=!0}).catch(()=>{}):this.$refs.loginForm.open()},login(){location.reload()},convertTime(o){const s=u(),r=u(o);if(s.diff(r,"years")>0)return`${s.diff(r,"years")} năm trước`;if(s.diff(r,"months")>0)return`${s.diff(r,"months")} tháng trước`;if(s.diff(r,"days")>0)return`${s.diff(r,"days")} ngày trước`;if(s.diff(r,"hours")>0)return`${s.diff(r,"hours")} giờ trước`;if(s.diff(r,"minutes")>0)return`${s.diff(r,"minutes")} phút trước`;if(s.diff(r,"seconds")>0)return`${s.diff(r,"seconds")} giây trước`}}},x=o=>(C("data-v-911d0dbf"),o=o(),P(),o),j={class:"p-[20px] bg-[#fff] box-shadow"},D=x(()=>t("div",{class:"border-l-[5px] border-[#db562b] text-[#db562b] font-bold pl-[8px] mb-[12px] text-[17px]"}," Thông tin tác giả ",-1)),N={class:"flex mt-[16px] mx-[12px] justify-between items-center"},S={class:"flex mr-[16px]"},A={class:"min-w-[96px]"},V=["src"],B={key:1,class:"w-[96px] h-[96px] flex items-center justify-center bg-[#5c6bc0] rounded-[50%] text-white text-[24px] object-contain"},q={class:"ml-[10px] flex-auto"},E={class:"font-bold text-[20px] mt-[4px]"},H={class:"text-[15px] mt-[4px] text-[#333]"},M=x(()=>t("i",{class:"bi bi-plus text-[16px] mr-[4px]"},null,-1)),X=x(()=>t("i",{class:"bi bi-check-circle text-[16px] mr-[8px]"},null,-1)),z={class:"mt-[18px] text-[17px] mx-[16px] border-b-[2px] pb-[18px] whitespace-pre-line"},G={class:"mt-[16px] mb-[42px]"},J=x(()=>t("div",{class:"border-l-[5px] border-[#db562b] text-[#db562b] font-bold pl-[8px] mb-[12px] text-[17px]"}," Các bài viết liên quan ",-1)),K={class:"mt-[10px] mb-[16px] grid grid-cols-3 gap-3"},O={class:"mt-[8px] post-item"},Q=["src","alt"],R={class:"px-[2px]"},U={class:"font-bold text-[15px] mt-[8px]"},W={class:"flex items-center mt-[4px]"},Y={class:"text-[14px] font-bold text-[#076db6]"},Z={class:"ml-[16px] text-[13px] mt-[4px]"},$={class:"py-[12px] bg-[#fff] box-shadow"},tt=x(()=>t("div",{class:"border-b-[2px] mb-[8px]"},[t("div",{class:"border-l-[5px] border-[#db562b] text-[#db562b] font-bold ml-[8px] pl-[8px] mb-[12px] text-[15px]"}," Tác giả có thể bạn quan tâm ")],-1)),et={class:"mx-[2px]"},st={class:"flex px-[8px] items-center py-[8px] border-b-[2px] hover:bg-[#e9ecef]"},ot=["src"],rt={key:1,class:"min-w-[58px] h-[58px] rounded-[50%] flex justify-center items-center bg-[#5c6bc0] text-white text-[16px]"},at={class:"ml-[10px] mt-[2px]"},it={class:"text-[15px] font-bold"},nt={class:"description mr-[4px] text-[13px] mt-[1px]"};function ct(o,s,r,dt,a,d){const h=m("Link"),y=m("AppLayout"),w=m("LoginForm");return i(),n(f,null,[l(y,{"current-tab":"main-creater"},{"main-1":p(()=>[t("div",j,[t("div",null,[D,t("div",N,[t("div",S,[t("div",A,[a.dataInfor.image?(i(),n("img",{key:0,src:a.dataInfor.image,alt:"",class:"w-[96px] h-[96px] rounded-[50%]"},null,8,V)):(i(),n("div",B,c(a.dataInfor.first_name[0]),1))]),t("div",q,[t("div",E,c(a.dataInfor.first_name+" "+a.dataInfor.last_name),1),t("div",H,c(a.dataInfor.description),1)])]),a.dataInfor.code!=this.$page.props.auth.account.code?(i(),n("div",{key:0,class:"btn text-[15px] text-center py-[6px] border-[2px] rounded-[4px] cursor-pointer hover:bg-[#e9ecef] active:scale-95 min-w-[120px]",onClick:s[0]||(s[0]=(...e)=>d.changeFollowing&&d.changeFollowing(...e))},[a.dataInfor.is_follow?_("",!0):(i(),n(f,{key:0},[M,g("Theo dõi ")],64)),a.dataInfor.is_follow?(i(),n(f,{key:1},[X,g("Đã theo dõi ")],64)):_("",!0)])):_("",!0)]),t("div",z,c(a.dataInfor.remark),1)]),t("div",G,[J,t("div",K,[(i(!0),n(f,null,v(a.listPostCreator,e=>(i(),n("div",O,[l(h,{href:o.route("post",e.slug)},{default:p(()=>[t("img",{src:e.image,alt:e.description,class:"h-[200px] object-cover w-[100%] post-image"},null,8,Q)]),_:2},1032,["href"]),t("div",R,[l(h,{href:o.route("post",e.slug)},{default:p(()=>[t("div",U,c(e.title),1)]),_:2},1032,["href"]),t("div",W,[l(h,{href:o.route("list-category",e.categorySlug)},{default:p(()=>[t("div",Y,c(e.categoryName),1)]),_:2},1032,["href"]),t("div",Z,c(d.convertTime(e.created_at)),1)])])]))),256))]),a.isLoadPost?(i(),n("div",{key:0,class:"btn mt-[28px] mx-[8px] border-[1px] border-[#adb5bd] py-[8px] flex justify-center cursor-pointer text-[15px] active:bg-[#eff1f3]",onClick:s[1]||(s[1]=(...e)=>d.loadPost&&d.loadPost(...e))}," Xem thêm bài viết ")):_("",!0)])])]),"main-2":p(()=>[t("div",$,[tt,(i(!0),n(f,null,v(a.listCreatorPopular,e=>(i(),n("div",et,[l(h,{href:o.route("creator",e.code)},{default:p(()=>[t("div",st,[e.image?(i(),n("img",{key:0,src:e.image,alt:"",class:"min-w-[58px] h-[58px] rounded-[50%]"},null,8,ot)):(i(),n("div",rt,c(e.first_name[0]),1)),t("div",at,[t("div",it,c(e.first_name+" "+e.last_name),1),t("div",nt,c(e.description),1)])])]),_:2},1032,["href"])]))),256))])]),_:1}),l(w,{ref:"loginForm",onLogin:d.login},null,8,["onLogin"])],64)}const _t=F(T,[["render",ct],["__scopeId","data-v-911d0dbf"]]);export{_t as default};
